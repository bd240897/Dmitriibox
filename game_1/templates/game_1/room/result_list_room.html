{% extends 'game_1/base.html' %}

{% load static %}

{% block title %} result_room {% endblock %}

{% block content %}
    <section class="results">
        <div class="container pt-1 pb-1">
            <div class="results-header">
                <h1 class="p-2 d-flex justify-content-center bg-primary text-white rounded-pill" style="font-weight: bold; font-size: 26px">Вспомним все ответы</h1>
            </div>

            {# ОПОВЕЩЕНИЯ ДЖАНГИ #}
            {% include '../blocks/django_messages.html' %}

            {#            {{ obj_answer }}#}

            {% for obj in obj_answer %}
                <div class="border border-success my-2 px-2">
                    <div class="text-center fw-bold">Раунд {{ obj.question.round_for_question }}</div>
                    <div> Вопрос {{ obj.question.question }}</div>
                    <div>Правильный ответ {{ obj.question.right_answer }}</div>
                    <div class="border border-success my-2 px-2">
                        {% for o in obj.answers %}
                            <div class="border border-success my-2 px-2">
                                <p>Игрок {{ o.player }}</p>
                                <p>Ответ {{ o.answer }}</p>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            {% endfor %}

            {#            {% for answer in obj_answers %}#}
            {##}
            {#                <div class="results-answer pt-2 pb-2" style="background-color: #f5d060; border-radius: 20px;">#}
            {#                    <h1 class="text-center">Вопрос был:</h1> {#"#}
            {#                    <h1 class="text-center">{{ answer.question }}</h1>#}
            {#                </div>#}
            {# TODO #}
            {#                <div class="results-body pt-2 pb-2">#}
            {#                    {% for p in  answer.player %}#}
            {#                        <div class="d-flex flex-column bd-highlight mb-3 square ">#}
            {#                            <div class="p-2 d-flex justify-content-center bg-primary text-white rounded-pill" style="font-weight: bold; font-size: 26px">#}
            {#                                <div> Игрок</div>#}
            {#                                <div style="color: red">&nbsp;"{{ user.username }}&nbsp;</div>#}
            {#                                <div> написал/а</div>#}
            {#                            </div>#}
            {#                            <div class="p-2 d-flex justify-content-center align-items-center" style="background-color: cornsilk; font-weight:bold; font-size: 26px; color: red; height: 200px; border-radius: 50px;">{{ p.answer }}</div>#}
            {#                            <div class="p-2 bg-warning ms-auto" >Неплохой ответ</div>#}
            {#                        </div>#}
            {#                    {% endfor %}#}
            {##}
            {#                    {% if obj_question.right_answer %}#}
            {#                        <div class="d-flex flex-column bd-highlight mb-3 square ">#}
            {#                            <div class="p-2 d-flex justify-content-center bg-primary text-white rounded-pill" style="font-weight: bold; font-size: 26px">#}
            {#                                <div> Правильный ответ</div>#}
            {#                            </div>#}
            {#                            <div class="p-2 d-flex justify-content-center align-items-center" style="background-color: cornsilk; font-weight:bold; font-size: 26px; color: red; height: 200px; border-radius: 50px;">{{ obj_question.right_answer }}</div>#}
            {#                        </div>#}
            {#                    {% endif %}#}
            {#                </div>#}
            {##}
            {#            {% endfor %}#}

            <div class="results_to_end d-flex justify-content-between">
                <a href="{% url 'result_list_room' slug %}?gameover=1" class="answer_link btn btn-primary" >Закончить игру</a>
            </div>

        </div>
    </section>
{% endblock %}

{% block user_scripts %}
    <script>
        ///////// API ///////////////
        function getGameStatusApiURL(){
            return "{% url 'game_status_API' slug %}"
        }
        //////// DJANGO ////////////
        function getWaitingRoomURL(){
            return "{% url 'waiting_room' slug %}"
        }
        function getTypingRoomURL(){
            return "{% url 'typing_room' slug %}"
        }
        function getWaitingTypingRoomURL(){
            return "{% url 'waiting_typing_room' slug %}"
        }
        function getResultRoomURL(){
            return "{% url 'result_room' slug %}"
        }
        function getResultListRoomURL(){
            return "{% url 'result_list_room' slug %}"
        }
        function getMainRoomURL(){
            return "{% url 'main_room' %}"
        }
        function getGameOverRoomURL(){
            return "{% url 'gameover_room' slug %}"
        }
    </script>

    {# ЗАГРУЗКА JS #}
    <script src="{% static 'game_1/js/room/temp.js' %}"></script>
{% endblock %}

