{% extends 'game_1/base.html' %}

{% load static %}

{#TODO - заменим на название и номер#}
{% block title %} main_room {% endblock %}

{% block content %}
    <style>
        /* ЗАГОЛОВОК СТРАНИЦЫ */
        .header__text{
            font-weight: bold; 
            font-size: 26px; 
        }

        /* ОПОВЕЩЕНИЯ ДЖАНГИ */
        /* pass */
        
        /* ВЫ ВОШЛИ КАК */
        .user__container{
            background-color: cornsilk; 
            font-weight:bold; 
            font-size: 20px; 
            color: black; 
            border-radius: 50px;"
        }
        .user__joined__username{
            color: red;
        }

        /* ОПИСАНИЕ ИГРЫ */
        .description__text{
            background-color: cornsilk; 
            font-weight:bold;
             font-size: 20px; 
             color: black; 
             height: 200px; 
             border-radius: 50px;
        }

        /* ПРАВИЛА ИГРЫ  */
        /* pass */

        /* ВОЙТИ В КОМНАТУ */
        /* pass1 */
    </style>


    <section class="main-room vh-100">
        <div class="container pt-1 pb-1 h-100">
            <div class="d-flex flex-column justify-content-center align-items-between h-100">

                <!-- ЗАГОЛОВОК СТРАНИЦЫ -->

                <div class="header py-1">
                    <h1 class="header__text p-2 d-flex justify-content-center bg-primary text-white rounded-pill">Игра #1</h1>
                </div>

                <!-- ОПОВЕЩЕНИЯ ДЖАНГИ -->

                {% include '../blocks/django_messages.html' %}

                <!-- ВЫ ВОШЛИ КАК -->

                <div class="user py-1">
                    <div class="user__container p-2 d-flex justify-content-center align-items-center">
                        {% if user.is_authenticated %}
                        <div class="user__joined">
                            <span class="user__joined__text">Вы вошли как:&nbsp;</span>
                            <span class="user__joined__username"> {{ user.username }}</span>
                        </div>
                        {% else %}
                        <div class="user__nojoined"></div>
                            <div class="user__nojoined__text">Вы не вошли в систему&nbsp;</div>
                        </div>
                        {% endif %}
                    </div>
                </div>

                <!-- ОПИСАНИЕ ИГРЫ -->

                <div class="description py-1">
                    <h1 class="description__text p-2 d-flex justify-content-center align-items-center">Краткое поисание тут.Краткое поисание тут.Краткое поисание тут</h1>
                </div>

                <!-- ПРАВИЛА ИГРЫ -->

                <div class="rules py-1">
                    <div class="d-grid gap-2">
                        <button id="btn-rules" class="btn btn-primary h-100" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                            Правила игры
                        </button>
                    </div>

                    <div class="collapse " id="collapseExample">
                        {% include '../blocks/game_rules.html' %}
                    </div>
                </div>

                <!-- ВОЙТИ В КОМНАТУ -->

                <div class="enter-game d-flex flex-column justify-content-center align-items-center py-2">
                    <form class="enter-game__form row g-3" method="post">
                        <div class="enter-game__input col-auto">
                            {{ form.room_code }}
                        </div>
                        <div class="enter-game__btn col-auto">
                            <button id="btn-enter-game" type="submit" class="btn btn-primary mb-3">Войти в комнату</button>
                        </div>
                        {% csrf_token %}
                    </form>
                </div>
            </div>
        </div>
    </section>

{% endblock %}


{% block user_scripts %}
    <script>
        function relocation(status) {
            console.log('main_room ', status)
        }
    </script>
    <script src="{% static 'game_1/js/room/ws.js' %}"></script>
{% endblock %}